test_duration: 500
prepare_write_cmd: [
  "cassandra-stress write no-warmup cl=ALL n=108333334 -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=150 -col 'size=FIXED(1024) n=FIXED(1)'  -pop seq=1..108333334",
  "cassandra-stress write no-warmup cl=ALL n=108333334 -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=150 -col 'size=FIXED(1024) n=FIXED(1)'  -pop seq=108333335..216666668",
  "cassandra-stress write no-warmup cl=ALL n=108333334 -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=150 -col 'size=FIXED(1024) n=FIXED(1)'  -pop seq=216666669..325000002",
  "cassandra-stress write no-warmup cl=ALL n=108333334 -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=150 -col 'size=FIXED(1024) n=FIXED(1)'  -pop seq=325000003..433333336",
  "cassandra-stress write no-warmup cl=ALL n=108333334 -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=150 -col 'size=FIXED(1024) n=FIXED(1)'  -pop seq=433333337..541666670",
  "cassandra-stress write no-warmup cl=ALL n=108333334 -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=150 -col 'size=FIXED(1024) n=FIXED(1)'  -pop seq=541666671..650000004"
]

stress_cmd_w: [
  "cassandra-stress write no-warmup cl=QUORUM duration=20m -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop seq=650000005..758333339",
  "cassandra-stress write no-warmup cl=QUORUM duration=20m -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop seq=758333340..866666674",
  "cassandra-stress write no-warmup cl=QUORUM duration=20m -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop seq=866666675..975000008",
  "cassandra-stress write no-warmup cl=QUORUM duration=20m -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop seq=975000009..1083333343",
  "cassandra-stress write no-warmup cl=QUORUM duration=20m -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop seq=1083333344..1191666678",
  "cassandra-stress write no-warmup cl=QUORUM duration=20m -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop seq=1191666679..1300000013"
]
stress_cmd_r: [
  "cassandra-stress read no-warmup cl=QUORUM duration=20m -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop 'dist=gauss(1..108333334,54166668,542209)'",
  "cassandra-stress read no-warmup cl=QUORUM duration=20m -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop 'dist=gauss(108333335..216666668,162500002,542209)'",
  "cassandra-stress read no-warmup cl=QUORUM duration=20m -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop 'dist=gauss(216666669..325000002,270833336,542209)'",
  "cassandra-stress read no-warmup cl=QUORUM duration=20m -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop 'dist=gauss(325000003..433333336,379166670,542209)'",
  "cassandra-stress read no-warmup cl=QUORUM duration=20m -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop 'dist=gauss(433333337..541666670,487500004,542209)'",
  "cassandra-stress read no-warmup cl=QUORUM duration=20m -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop 'dist=gauss(541666671..650000004,595833338,542209)'"
]
stress_cmd_m: [
  "cassandra-stress mixed no-warmup cl=QUORUM duration=30m -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop 'dist=gauss(1..108333334,54166668,542209)'",
  "cassandra-stress mixed no-warmup cl=QUORUM duration=30m -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop 'dist=gauss(108333335..216666668,162500002,542209)'",
  "cassandra-stress mixed no-warmup cl=QUORUM duration=30m -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop 'dist=gauss(216666669..325000002,270833336,542209)'",
  "cassandra-stress mixed no-warmup cl=QUORUM duration=30m -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop 'dist=gauss(325000003..433333336,379166670,542209)'",
  "cassandra-stress mixed no-warmup cl=QUORUM duration=30m -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop 'dist=gauss(433333337..541666670,487500004,542209)'",
  "cassandra-stress mixed no-warmup cl=QUORUM duration=30m -mode cql3 native -rate 'threads=$threads $throttle' -col 'size=FIXED(1024) n=FIXED(1)' -pop 'dist=gauss(541666671..650000004,595833338,542209)'"
]
round_robin: true

n_db_nodes: 3
n_loaders: 6
n_monitor_nodes: 1


instance_type_db: 'i4i.4xlarge'
instance_type_loader: 'c6i.4xlarge'
instance_type_monitor: 't3.small'

use_preinstalled_scylla: true

user_prefix: 'perf-regression-i4i-4x-650gb'

backtrace_decoding: false
print_kernel_callstack: true

store_perf_results: true
use_mgmt: false
#email_recipients: ['scylla-perf-results@scylladb.com']

custom_es_index: 'performancestatsv2'
use_hdr_cs_histogram: true

append_scylla_args: '--blocked-reactor-notify-ms 5 --abort-on-lsa-bad-alloc 1 --abort-on-seastar-bad-alloc --abort-on-internal-error 1 --abort-on-ebadf 1'

use_placement_group: true
use_prepared_loaders: true
ami_id_loader: 'scylla-qa-loader-ami-v20-ubuntu22'
